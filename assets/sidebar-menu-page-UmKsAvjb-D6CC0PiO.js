import{a as l,n,S as B,d as $,k as f,m as x,O as L,R as C,b as i,L as m,p as o,P as h,e as N,y as P,f as O,g as R,s as k,o as r,h as z,F as E}from"./index-D_TUSZFc.js";let I=class extends i{declareProps(){this.class="",this.checkCallBack=null}render(){const e=this.state;return E({class:this.class||"",onState:[["selected",{selected:!0}],["active",{active:!0}]],click:()=>{if(e.toggle("active"),!this.checkCallBack)return;const s=e.active?this:null;this.checkCallBack(s)}},this.children)}setupStates(){return{selected:!1,active:!1}}update(e){this.state.set({selected:e,active:e})}};const j=n(({options:t,click:e},s)=>({tag:"li",class:`relative flex flex-row w-auto text-left p-0 transition-all cursor-pointer min-w-[48px] option${t?" sub":""}`,click:e,children:s})),G=(t,e=null,s=!1)=>[e&&N({class:"icon w-12 rounded-md flex items-center justify-center min-w-12",onState:["selected",{selected:!0}],html:e}),P({class:"label flex flex-auto text-sm items-center cursor-pointer whitespace-nowrap"},t),s&&O({class:"flex justify-center items-center px-1 transition-all text-muted-foreground mr-2",onState:[["selected",{rotate:!0}],["active",{rotate:!0}]]},[k({size:"xs"},r.chevron.single.down)])];class g extends i{declareProps(){this.label="",this.icon=null,this.href=null,this.exact=!1,this.options=null,this.content=null,this.callBack=null,this.checkCallBack=null,this.link=null}render(){const e=!this.options&&this.callBack;return j({options:this.options,click:e},[this.addLink()])}addLink(){const e=this.options&&this.options.length>0,s=this.content||G(this.label,this.icon,e);return this.href?new R({class:"flex flex-auto flex-row rounded-md transition-all overflow-x-hidden",cache:"link",href:this.href,activeClass:"selected",exact:this.exact||!1},s):new I({class:"flex flex-auto flex-row rounded-md transition-all overflow-x-hidden",cache:"link",checkCallBack:this.checkCallBack},s)}isSelected(){return this.link.state.get("selected")}update(e){this.link.update(e)}}const M=n(({map:t},e)=>o({class:"navigation-group flex flex-col gap-2 list-none m-0 py-2 px-0",map:t},[z({class:"text-muted-foreground text-sm py-0 px-4 whitespace-nowrap"},e)]));class W extends i{declareProps(){this.options=[],this.class="",this.mobileBorder=!1}render(){const e=this.mapOptions(this.options),s=this.class||"",a=this.mobileBorder?"border md:border-0 rounded-md":"";return m({class:`navigation flex flex-auto flex-col ${s}`},[o({class:`relative group flex flex-col gap-2 py-2 px-2 list-none m-0 ${a}`,map:e}),...this.addSubs()])}mapOptions(e=[]){return[e.map(s=>s.group?this.addGroup(s):this.addLink(s)),s=>s]}addSubs(){return[]}addGroup(e){const s=this.mapOptions(e.options);return M({map:s},e.group)}addLink(e){return new g(e)}}let c=class extends W{onCreated(){this.links=[]}setupSubNav(e){return new A({parentLink:e,options:e.options})}addSubNav(e){const s=this.setupSubNav(e);return e.sub=s,s}addLink(e){const s=new g(e);if(this.links.push(s),!s.options)return s;const a=this.addSubNav(s);return{class:"child-group",link:s,sub:a}}};const Y=(t,e)=>new RegExp(`${t}($|/|\\.).*`).test(e),q=(t,e)=>{const s=t.link.panel.pathname;return!s&&t.isSelected()?!0:t.exact?e===s:Y(s,e)};class A extends c{declareProps(){super.declareProps(),this.parentLink=null,this.mainClassName=""}render(){const e=`navigation flex flex-auto flex-col sub ${this.mainClassName||""}`,s=this.mapOptions(this.options);return m({class:e,onState:this.onState()},[o({class:"relative group flex flex-col gap-2 py-2 px-0 list-none m-0"},[...s,...this.addSubs(),this.addWatcher()])])}addWatcher(){return{watch:{value:["[[path]]",h.data],callBack:this.updateLinks.bind(this)}}}onState(){return[["selected",{active:!0}],["active",{active:!0}]]}setupStates(){return{remotes:[{id:this.parentLink.link.getId(),selected:null,active:null}]}}afterSetup(){const e=h.data.get("path");this.updateLinks(e)}updateLinks(e){let s=!1;for(const a of this.links)if(a.rendered&&(s=q(a,e),s===!0))break;this.parentLink.update(s)}}const D=({title:t,options:e,class:s="",mobileBorder:a=!1,sticky:u=!1,topNav:S=null,bottomNav:y=null})=>l({class:`pb-12 p-4 pt-0 lg:p-6 lg:border-r w-full lg:max-w-[300px] h-full ${s}`},[S,t&&B({class:"pb-4 md:pb-2 px-6 flex"},[$({class:"scroll-m-20 text-3xl lg:text-2xl font-bold tracking-tight"},t)]),new c({options:e,mobileBorder:a,class:u?"sticky top-0":""}),y]),F=t=>x({class:"text-lg ml-2"},t),T=t=>l({class:"sticky flex flex-row items-center bg-popover lg:hidden top-0 z-10 border-0 border-b"},[f({variant:"icon",class:"m-2",click:(e,{state:s})=>s.toggle("open"),icon:r.arrows.left}),t.title&&F(t.title)]),U=()=>l({class:`
			absolute inset-0 bg-black/40 z-[-1] fadeIn
			transition-opacity duration-200
		`,click:(t,{state:e})=>e.open=!1});class V extends i{declareProps(){this.title=""}render(){return l({class:"fixed inset-0 z-50",style:"[[typeClass]]"},[U(),l({class:`
					absolute popIn w-auto p-0 bg-popover m-auto shadow-lg rounded-md top-0 bottom-0 left-2 right-2 max-h-[85vh] text-inherit block
				`,dataSet:["open",["expanded",!0,"true"]]},[l({class:"flex flex-auto flex-col w-full h-full overflow-y-auto max-h-[85vh] rounded-md bg-popover border"},[T({title:this.title}),l({class:"flex flex-auto flex-col"},this.children)])])])}setupStates(){return{open:{id:this.parent.getId(),callBack:e=>{e===!1&&(document.documentElement.style.overflowY="auto",this.destroy())}}}}afterSetup(){document.documentElement.style.overflowY="hidden"}setContainer(e){this.container=app.root}}const Z=t=>f({class:"m-2",variant:"ghost",addState(){return{open:!1}},click:(e,{state:s})=>s.toggle("open")},[k(r.bar.three)]),_=t=>x({class:"text-lg ml-2"},t),H=t=>l({class:"flex flex-auto flex-row items-center lg:hidden"},[Z(),t.title&&_(t.title)]),b=(t,e)=>{t.forEach(s=>{if(s.options){b(s.options,e);return}s.callBack=e})},J=t=>l({class:"bg-background flex flex-auto flex-col w-full relative"},[L("open",e=>e?[new V({title:t.title},[C(({state:s})=>{const a=u=>s.open=!1;return b(t.options,a),new c({options:t.options})})])]:null)]),K=n(t=>l({cache:"mobileNav",class:"flex flex-auto flex-col w-full relative lg:hidden"},[l({class:"flex flex-auto flex-col w-full"},[H(t),J(t)])])),w=n((t,e)=>({tag:"section",...t,children:e})),v=n((t,e)=>w({class:"body full-container flex flex-auto flex-col "+t.class,...t},e)),Q=n((t,e)=>{const s=t.flex?t.flex:"flex flex-auto flex-col lg:flex-row";return t.class="row "+s+" "+(t.class||""),{...t,children:e}}),p=n((t,e)=>{const s=t.flex?"flex flex-none":"flex flex-auto flex-col";return t.class="col "+s+" "+(t.class||""),{...t,children:e}}),X=n((t,e)=>w({class:"body aside-container flex flex-auto flex-col max-w-[100vw] h-full"},[Q([p({class:"drawer control w-full md:max-w-[320px]",flex:"flex flex-none md:flex-auto flex-col"},[t.left]),p([t.right])])]));class ee extends i{declareProps(){this.class=""}render(){return l({class:`${this.class||""}`},this.children)}}class d extends ee{update(e){}}class ne extends d{render(){const e=this.class!=""?this.class:"pt-[80px] sm:pt-0";return v([l({class:`flex flex-auto flex-col ${e}`},this.children)])}}class ie extends d{render(){return v([l({class:"contained px-4 flex flex-auto flex-col"},this.children)])}}const te=n((t,e)=>(t.class="basic-page pt-[80px] sm:pt-0 flex flex-auto flex-col "+(t.class||""),{tag:"section",...t,children:e}));class oe extends d{declareProps(){super.declareProps(),this.routes=[],this.switch=[],this.links=[],this.title=""}render(){return te({route:this.addRoutes()},[X({left:this.addSidebar(),right:this.addBody()})])}addRoutes(){return this.routes||[]}addSidebar(){return l({class:"flex flex-auto flex-col"},this.addNavigation())}addBody(){return l({class:"flex flex-auto flex-col"},[{class:"contained",switch:this.addSwitch()}])}addSwitch(){return this.switch||[]}addNavigation(){const e=this.getLinks();return[D({title:this.title,options:e,class:"hidden lg:block"}),K({title:this.title,options:e})]}getLinks(){return this.links||[]}}export{oe as M,ne as S,ie as k};
